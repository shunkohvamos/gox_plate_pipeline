---
description: Figure element consistency — error bars, axes, spines, fonts must match across all figures. Apply when adding or modifying figures/plots.
alwaysApply: false
---

# 図の要素の統一（Figure element consistency）

## 原則
- **すべての図の出力で体裁をそろえる。** 図の要素はプロジェクト内で一貫して扱う。
- **図の要素**とは：エラーバーの体裁、軸（ラベル・目盛・範囲）、枠線（spines）、プロットの体裁（線幅・マーカー・シャドウの有無・付け方など）、フォントの統一感。特定の数式フォントが必要な場合は除く。

## 新規に図を追加するとき（ユーザーが特段指示しない場合）
- 図の体裁は **すでに出力されている図** に合わせること。
- 例：シャドウの付け方など、スタイルの細部は既存の同種図を参照する。
- 例：同じ図種にエラーバー付きで追加出力する場合 → 既存の「同じ図種」の出力を確認し、基本は同じ体裁にする。他にエラーバー付きの図があるなら、そのエラーバー体裁を参考にして統一する。

## 図の一部を修正するとき（ユーザーが特段指示しない場合）
- **図の要素として同じものを含む図は、すべて統一感を持って修正する。**
- 例：エラーバーのスタイルを変えるなら、エラーバーを描いているすべての図で同じスタイルにそろえる。軸の太さ・枠線・フォントなども同様に、該当する全図に一括で反映する。
- 「この図だけ変える」は、ユーザーが特段に指示した場合のみ許容する。

## 実装上の注意
- 体裁の定義は rcParams や共通スタイル関数（例：apply_paper_style()）に集約し、図の要素ごとの定数（エラーバー capsize、elinewidth 等）も共通化して参照する。
- 新規プロットを書く前に、既存の同種図がどこでどう描かれているかを確認し、同じパラメータ・同じ見た目になるようにする。
